@use '_mixin' as *;

.g-mobile-menu-trigger {
	@include headerBlock;
	position: relative;
	height: var(--header-size);
	gap: 0.4em;
	z-index: 110;

	&__lines {
		position: relative;
		width: 15px;
		aspect-ratio: 1;
	}

	&__line {
		position: absolute;
		width: 100%;
		top: 50%;
		left: 50%;
		transform-origin: center;
		transform: translate(-50%, -50%) rotate(0deg);
		border-top: 1px solid;
		transition: var(--t-1);

		&:nth-child(1) {
			top: 25%;
		}

		&:nth-child(2) {
			top: 75%;
		}

		.is-mobile-open &:nth-child(1) {
			top: 50%;
			transform: translate(-50%, -50%) rotate(-45deg);
		}

		.is-mobile-open &:nth-child(2) {
			top: 50%;
			transform: translate(-50%, -50%) rotate(45deg);
		}

		.is-mobile-open &:nth-child(3) {
			opacity: 0;
		}
	}

	@include tabletUp {
		display: none;
	}
}

@include tabletDown {
	.g-header__logo {
		margin-right: auto;
	}

	.g-header__toggle,
	.g-header__links,
	.g-header .c-language-selector {
		display: none;
	}
}

.g-mobile-menu {
	position: fixed;
	width: fit-content;
	min-width: 200px;
	height: fit-content;
	right: 10px;
	top: calc(var(--s-header) + 10px);
	padding: 16px 24px;
	gap: 30px;
	background-color: var(--cr-cream);
	border-radius: var(--br-2);
	border: 1px solid;

	&__overlay {
		position: fixed;
		inset: 0;
		background-color: rgba(0, 0, 0, 0.4);
		backdrop-filter: blur(2px);
	}

	&,
	&__overlay {
		transition: opacity var(--t-2);
		z-index: 100;
	}

	.g-header:not(.is-mobile-open) ~ &,
	.g-header:not(.is-mobile-open) ~ &__overlay {
		opacity: 0;
		pointer-events: none;
	}

	&__links {
		a.is-active {
			color: var(--cr-green-d);
			text-decoration: underline;
			text-decoration-thickness: 1px;
			text-underline-offset: 4px;
			text-decoration-color: var(--cr-green-d);
		}

		a:not(:last-child) {
			margin-bottom: 10px;
		}
	}

	@include tabletUp {
		display: none;
	}
}
