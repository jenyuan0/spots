@use '_mixin' as *;

.g-plan {
	--g-spacing-lg: var(--s-5-v) var(--s-5-h);
	--g-spacing-md: var(--s-4-v) var(--s-4-h);
	--g-spacing-sm: var(--s-3-v) var(--s-3-h);
	--cr-primary: var(--cr-green-d);

	position: relative;
	display: grid;
	place-items: center;
	min-height: calc(
		var(--s-vp-height) - var(--s-header-space) - var(--s-contain)
	);
	width: var(--width-max);
	margin: auto;
	padding: var(--g-spacing-lg);
	color: var(--cr-primary);

	@include selection {
		color: var(--cr-cream);
		background-color: var(--cr-primary);
	}

	&__image {
		align-self: stretch;
		border-radius: var(--br-3);
		overflow: hidden;
		background-color: var(--cr-subtle);
	}

	&__container {
		position: relative;
		display: flex;
		align-items: center;
		max-width: 1600px;
		border-radius: var(--br-3);
		background-color: var(--cr-white);
		box-shadow: var(--shadow-1);
		overflow: hidden;
		border: 1px solid var(--cr-subtle-2);
	}

	&__form,
	&__support {
		display: flex;
		flex: 1;
		flex-direction: column;
	}

	&__form {
		justify-content: space-between;
		gap: var(--s-5-v);
		padding: var(--g-spacing-lg);

		&__header {
			text-align: center;
			max-width: 500px;
			margin: auto;
		}
	}

	&__offers {
		li {
			display: flex;
			align-items: center;
			gap: 0.5em;
			padding: var(--s-2-v) 0;
			border-top: 1px solid var(--cr-subtle);

			&:before {
				content: 'âœ“';
				display: flex;
				justify-content: center;
				align-items: center;
				width: 1.5em;
				aspect-ratio: 1;
				background-color: var(--cr-subtle);
				border-radius: 100%;
			}

			span {
				flex: 1;
			}
		}
	}

	&__support {
		justify-content: space-between;
		align-self: stretch;
		gap: var(--s-5-v);
		padding: var(--g-spacing-lg);
		background-color: var(--cr-cream);
		border-left: 1px solid var(--cr-subtle-2);
	}

	&__contact,
	&__faq {
		display: flex;
		flex-direction: column;
		gap: var(--s-4-v);

		&__title {
			padding-top: var(--s-2-v);
			border-top: 1px solid;
		}
	}

	&__contact {
		&-items {
			display: flex;
			gap: 10px;
			user-select: none;
		}

		&-item {
			display: flex;
			flex: 1;
			flex-direction: column;
			align-items: center;
			gap: 10px;
			padding: 12px;
			border-radius: var(--br-1);
			border: 1px solid var(--cr-subtle);
			transition: var(--t-1);

			@media (hover: hover) {
				&:hover {
					border-color: var(--cr-subtle-2);
				}
			}
		}

		&-inline {
			white-space: nowrap;
		}

		@include tabletDown {
			&-item {
				gap: 10px;
			}

			&-inline {
				display: none;
			}

			svg {
				width: 30px;
				height: 30px;
			}
		}

		@include tabletUp {
			svg {
				display: none;
			}
		}
	}

	@media screen and (max-width: 1280px) {
		padding: var(--g-spacing-md);

		&__container {
			flex-direction: column;
		}

		&__form,
		&__support {
			padding: var(--g-spacing-md);
		}

		&__support {
			border-top: 1px solid var(--cr-subtle-2);
			border-left: 0;
		}
	}

	@include mobileDown {
		width: 100%;
		padding: var(--g-spacing-sm);
		padding-block: var(--s-4-v);

		&__container {
			display: flex;
			flex-direction: column-reverse;
		}

		&__image {
			border-radius: 0;
		}

		&__form,
		&__support {
			padding: var(--g-spacing-sm);
		}

		&__form {
			padding-top: var(--s-4-v);
			gap: var(--s-4-v);
		}

		&__support {
			border-top: 0;
			border-bottom: 1px solid var(--cr-subtle);
			background-color: var(--cr-white);
		}

		&__contact,
		&__faq {
			&__title {
				text-align: center;
				font: var(--t-h-3);
				font-weight: 500;
				padding-top: 0;
				border-top: 0;
			}
		}
	}

	&__faq {
		transition:
			transform var(--t-2),
			background var(--t-2);

		&__header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin-bottom: var(--s-4-v);
		}

		&__toggle {
			align-self: center;
			margin-bottom: var(--s-4-v);

			@include mobileUp {
				display: none;
			}
		}

		.c-accordion__toggle {
			padding-block: 15px;
		}

		.c-accordion__title {
			font: var(--t-b-1);
			font-weight: 500;
		}

		.c-accordion__inner {
			padding-bottom: var(--s-4-v);
		}
	}

	@include mobileDown {
		&__faq {
			position: fixed;
			height: calc(100% + 2px);
			overflow-y: auto;
			bottom: 0px;
			left: 0;
			padding: var(--g-spacing-sm);
			border-top: 1px solid;
			background-color: var(--cr-cream);
			z-index: 200;

			&:not(.is-open) {
				transform: translate3d(0, calc(100% - 13px - var(--s-3-v) * 2), 0);
				background-color: var(--cr-white);
			}

			&:not(.is-open):not(.is-in-view) {
				transform: translate3d(0, 100%, 0);
			}
		}
	}
}
