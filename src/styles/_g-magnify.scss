@use '_mixin' as *;

.g-magnify {
	--cr-primary: var(--cr-brown-d);
	--cr-secondary: var(--cr-brown-l);
	position: fixed;
	inset: 0;
	display: flex;
	justify-content: flex-end;
	overflow-y: auto;
	overflow-x: clip;
	z-index: 200;

	@include customScrollbar(var(--cr-primary));

	&:before {
		content: '';
		display: block;
		position: fixed;
		inset: 0;
		backdrop-filter: blur(2px);
		background-color: rgba(0, 0, 0, 0.6);
		pointer-events: none;
		transition: opacity var(--t-2);
	}

	&__overlay {
		display: block;
		position: sticky;
		top: 0;
		flex: 1;
		cursor: default;
	}

	&__content {
		position: relative;
		width: Min(800px, 100vw);
		height: fit-content;
		min-height: 100%;
		color: var(--cr-primary);
		background-color: var(--cr-cream);
		box-shadow: var(--shadow-1);
		gap: 30px;
		z-index: 200;
		transition:
			box-shadow var(--t-2),
			transform var(--t-2);
	}

	&__toggle {
		@include asideToggle;
		top: 40px;
		z-index: 205;
	}

	&__body {
		height: 100%;
		overflow-y: auto;
		padding: var(--s-4-v) 0;
	}

	.c-carousel__dot.is-selected {
		background-color: var(--cr-primary);
	}

	&:not(.is-active) {
		pointer-events: none;
	}

	&:not(.is-active):before {
		opacity: 0;
	}

	&:not(.is-active) &__content {
		transform: translate3d(calc(100% + 40px), 0, 0);
		box-shadow: var(--shadow-1-transparent);
		transition-delay: 0.15s;
	}

	@include selection {
		color: var(--cr-secondary);
		background-color: var(--cr-primary);
	}

	@include tabletDown {
		&__toggle {
			top: var(--s-contain);
			left: unset;
			right: var(--s-contain);
			transform: unset;
		}

		&__heading {
			margin-inline: 60px;
		}
	}
}

.g-magnify-locations {
	&__highlights {
		text-align: center;
		margin: 0 var(--s-4-h) 10px;
	}

	&__heading {
		margin: 0 var(--s-4-v) var(--s-4-h);
		text-align: center;
	}

	&__cta {
		text-align: center;
		margin-bottom: var(--s-4-v);
	}

	&__categories {
		.c-category-pill-list {
			justify-content: center;
		}

		.pill:not(.is-active):not(:hover) {
			--cr-primary: var(--cr-subtle) !important;
			--cr-secondary: var(--cr-brown) !important;
		}
	}

	&__res {
		padding: var(--s-2-v) var(--s-2-h);
		margin: var(--s-4-v) var(--s-3-h);
		background-color: var(--cr-secondary);
		border: 1px solid var(--cr-subtle);
		box-shadow: var(--shadow-2);
		border-radius: var(--br-1);
	}

	&__urls,
	&__content,
	&__address,
	&__fees,
	&__categories {
		border-top: 1px solid var(--cr-subtle);
		padding: var(--s-3-v) var(--s-3-h);
	}

	&__images {
		margin-bottom: var(--s-3-v);

		picture {
			background-color: var(--cr-subtle);
		}

		img {
			width: auto;
			height: clamp(350px, 100vw, calc(var(--s-vp-height) * 0.5));
		}
	}
}
